<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="UTF-8">
	<title>Page d'inscription</title>
	<link rel="stylesheet" href="/static/style.css">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
	<link rel="icon" type="image/png" href="/static/Images/logo.ico" />
	<a href= "/"><img src="/static/Images/logo.png" class="logo" alt="Logo" /></a>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
</head>


<body><center>
	<form action="" method="post" class="login-form">
		<h1 class="main-title">S'INSCRIRE</h1>

	<!-- sélecteur d'addresse -->
	<div class="map-container" id="mapContainer">			
		<img src="/static/Images/close.png" class="close" id="hideMap">
		<div class="search-bar">
			<div>
				<input type="text" id="search" placeholder="Search for a place..." />
				<button id="location-search" type="button" class="valider" onclick="searchLocation()">Search</button>
			</div>
			<script>
				// allow searching with 'enter'
				$(document).ready(function(){
					$('#search').keypress(function(e){
						if(e.keyCode==13) {
							event.preventDefault();
							$('#location-search').click();
						}
					});
				});
			</script>
		</div>
		<div id="map"></div>
		<input id="lat" type="hidden" name="lat">
		<input id="long" type="hidden" name="long">
		<script src="/static/openstreetmap.js"></script>
		<font size="1" color="blue"><p><i>Si la carte ne s'affiche pas correctement veuillez réduire votre fenêtre</i></p></font>
	</div>

	<div class="formAccount" id="popup">
		<img src="/static/Images/close.png" class="close" id="closePopup">
		<div class="JoursContainer">
			<div class="formAccountJour" required>
				<p><b>Lundi : </b></p> <p>Cocher si pas cours <input type="checkbox"> </p>   
				<p>Heure de début <input type="time" name="startLundi" step="900"> </p>
				<p>Heure de fin <input type="time" name="endLundi" step="900"> </p>
			</div>
			<div class="formAccountJour" required>
				<p><b>Mardi : </b></p> <p>Cocher si pas cours <input type="checkbox"> </p>   
				<p>Heure de début <input type="time" name="startMardi" step="900"> </p>
				<p>Heure de fin <input type="time" name="endMardi" step="900"> </p>
			</div>
			<div class="formAccountJour" required>
				<p><b>Mercredi : </b></p> <p>Cocher si pas cours <input type="checkbox"> </p>   
				<p>Heure de début <input type="time" name="startMercredi" step="900"> </p>
				<p>Heure de fin <input type="time" name="endMercredi" step="900"> </p>
			</div>
			<div class="formAccountJour" required>
				<p><b>Jeudi : </b></p> <p>Cocher si pas cours <input type="checkbox"> </p>   
				<p>Heure de début <input type="time" name="startJeudi" step="900"> </p>
				<p>Heure de fin <input type="time" name="endJeudi" step="900"> </p>
			</div>
			<div class="formAccountJour" required>
				<p><b>Vendredi : </b></p> <p>Cocher si pas cours <input type="checkbox"> </p>   
				<p>Heure de début <input type="time" name="startVendredi" step="900"> </p>
				<p>Heure de fin <input type="time" name="endVendredi" step="900"> </p>
			</div>
			<center><button type="button" class="valider" onclick="masquer()">VALIDER</button></center>
		</div>
	</div>

		
			<div class="login">
				<input type="text" class="login" placeholder="Nom" name="nom" required>
				<input type="text" class="login" placeholder="Prénom" name="prenom" required><br />
			    <input type="number" class="login" placeholder="Numéro de téléphone" name="numero" required><br />
		<!--	<input type="text" class="login" id="Ville" placeholder="Veuillez renseigner votre ville de domicile ... " onkeyup="convertirEnMinuscules(this);"> -->
				<input type="email" class="login" placeholder="E-mail" name="email" required><br />
				<input type="password" class="login" placeholder="Mot de passe" name="password" required><br />
				<button type="button" class="button" id="showMap">Renseigner mon domicile</button>
				<button type="button" class="button" id="openPopup">Renseigner mes horraires</button>
		<!--	<p>Ajouter une photo de profil : <input type="file" accept="image/*"></p>   -->
			</div>

<!-- Js pour rentrer automatiquement en minuscule dans l'input ville -->
<!-- Pas besoin en fait prsq remplacé par gps
	<script>
		function convertirEnMinuscules(input) {
			input.value = input.value.toLowerCase();
		}
	</script>
-->	

		<button type="submit">VALIDER</button><br />
		<br/>
		<a href="/login">Je possède déjà un compte, je souhaite <b>me connecter</b></a><br/>
	</center>
	</form><br>
</center>

	<script>
		let bopen = document.querySelector('#openPopup');
		let bclose = document.querySelector('#closePopup');
		let openMap = document.querySelector('#showMap');
		let closeMap = document.querySelector('#hideMap');

		//function
		function afficher() {
			document.querySelector('#popup').style.display = "block";
		}

		function masquer() {
			document.querySelector('#popup').style.display = "none";
		}

		function afficherMap() {
			document.querySelector('#mapContainer').style.display = "block";
			document.getElementById('mapContainer').scrollIntoView({ behaviour: 'smooth', block: 'center' });
			resizeMap();
		}

		function masquerMap() {
			document.querySelector('#mapContainer').style.display = "none";
		}

		bopen.addEventListener("click",afficher);
		bclose.addEventListener("click",masquer);
		openMap.addEventListener("click",afficherMap);
		closeMap.addEventListener("click",masquerMap);
		
		
		window.addEventListener('resize', function() {
			resizeMap();
		});
	</script>
</center></body>

		
	

</html>
